<div class="p-5">
  <!-- Title and subtitle -->
  <div class="content_title">
    <h3 class="title">Modificación</h3>
    <h4 class="subtitle">Especifique y defina los datos a modificar</h4>
  </div>

  <!-- Subheader -->
  <div class="flex flex-row mx-5 mb-5 justify-between items-center">
    <div>
      <h4>{{ titleCurrent }}</h4>
    </div>
    <div class="div-button" *ngIf="getAll().length > 0 && policyData && flagButton">
      <button
        mat-button
        class="bt bt-primary"
        (click)="openToAdd('policy')"
        data-qa-id="sc-rpmf-btn_add-element"
      >
        <em class="fal fa-plus-circle icon-button-add"></em>
        Añadir
      </button>
    </div>
  </div>

  <!-- Content -->
  <div class="flex">
    <div class="flex-none rounded bg-white" *ngIf="items1">
      <p-panelMenu [model]="items1"></p-panelMenu>
    </div>
    <div class="grow">
      <div *ngIf="policyData" class="px-2">
        <app-complementary-data
          [applicationLevel]="'types'"
          [title]="''"
          [subtitle]="''"
          [groupName]="'Datos básicos'"
          [emptyText]="'Sin datos de la póliza'"
          [emptySubText]="'No se han asociado datos de la póliza al producto'"
          [successAddItemMsg]="
            'Los datos de la póliza fueron asociados correctamente.'
          "
          [removeItemMsg]="
            '¿Está seguro de querer desasociar el dato de la póliza seleccionado?'
          "
          [titleModalCompData]="'Seleccionar nuevos datos de la póliza'"
          [subtitleModalCompData]="
            'Seleccione los datos de la póliza que desea asociar'
          "
          [complementaryData]="complementaryDataControls"
          (action)="openToAdd('policy')"
          [modifyData]="true"
        >
        </app-complementary-data>
      </div>
      <div *ngIf="riskData" class="px-2">
        <div class="rounded bg-white px-2 py-2">
          <p-breadcrumb [model]="breadcrumbItem"></p-breadcrumb>
          <app-complementary-data
          [applicationLevel]="'types'"
          [title]="''"
          [subtitle]="''"
          [groupName]="'Datos básicos'"
          [emptyText]="'Sin datos del riesgo'"
          [emptySubText]="
            'No se han seleccionado datos para modificar del tipo de riesgo'
          "
          [successAddItemMsg]="
            'Los datos del riesgo fueron asociados correctamente.'
          "
          [removeItemMsg]="
            '¿Está seguro de querer desasociar el dato del tipo del riesgo seleccionado?'
          "
          [titleModalCompData]="'Seleccionar  datos del riesgo'"
          [subtitleModalCompData]="'Seleccione los datos del tipo de riesgo'"
          [complementaryData]="getRiskArrayByIdModify(titleRisk)"
          (action)="openToAdd('risk')"
          [modifyData]="true"
        >
        </app-complementary-data>
        </div>
      </div>
      <div class="px-2" *ngIf="!riskData && !policyData">
        <div class="rounded bg-white px-2 py-2">
          <div *ngIf="!riskData && !policyData && showCommercialPlans">
            <refactoring-smartcore-mf-modification-types-risk
              [titleRisk]="titleRisk"
              (addBranch)="onAddBranch($event)"
            ></refactoring-smartcore-mf-modification-types-risk>
          </div>

          <div *ngIf="!riskData && !policyData && showCommercialPlansTypes">
            <refactoring-smartcore-mf-commercial-plan-type
              [titleBussinesPlan]="titleBussinesPlan"
              [data]="data"
              [riskDataCode]="riskDataCode"
              [titleRisk]="titleRisk"
            ></refactoring-smartcore-mf-commercial-plan-type>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
