<div class="container-boxes">
  <section class="container-table">
    <p-breadcrumb [model]="items"></p-breadcrumb>
    <p-tabView>
      <p-tabPanel header="Coberturas">
        <div class="table-wrapper" >
          <p-table [value]="tableData"  *ngIf="true">
            <ng-template pTemplate="header">
              <tr>
                <th scope="col">Coberturas</th>
                <th scope="col">Permisos</th>
                <th scope="col">Acciones</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-data let-rowIndex="rowIndex">
              <tr>
                <td>{{ data.name }}</td>
                <td>
                  <div
                    *ngFor="let option of athrzdOprtnCoverages;let i = index"
                    class="field-checkbox"
                  >
                    <label>
                      <p-checkbox
                        [disabled]="data.required.required && option.key=='RMV'"
                        (onChange)="changeCheck(data)"
                        [value]="option"
                        [(ngModel)]="data.athrzdOprtnCoverages"
                      ></p-checkbox>
                      {{ option.name }}
                    </label>
                  </div>
                </td>
                <td>
                  <button
                    pButton
                    pRipple
                    icon="pi pi-trash"
                    class="p-button-rounded p-button-warning"
                    [disabled]="activeButton(data)"
                    (click)="editData(data)"
                  >
                    Editar datos
                  </button>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </p-tabPanel>

      <p-tabPanel header="Planes de servicio">
        <div class="table-wrapper" >
          <p-table [value]="tableDataService"  *ngIf="true">
            <ng-template pTemplate="header">
              <tr>
                <th scope="col">Planes de servicio</th>
                <th scope="col">Permisos</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-data>
              <tr>
                <td>{{ data.name }}</td>
                <td>
                  <div
                    *ngFor="let option of athrzdOprtnService"
                    class="field-checkbox"
                  >
                    <label>
                      <p-checkbox
                      [disabled]="data.required.required && option.key=='RMV'"
                        (onChange)="changeCheckServices()"
                        [value]="option"
                        [(ngModel)]="data.athrzdOprtnService"
                      ></p-checkbox>
                      {{ option.name }}
                    </label>
                  </div>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </p-tabPanel>
    </p-tabView>
  </section>
</div>
